(this.webpackJsonptest_task_cosysoft=this.webpackJsonptest_task_cosysoft||[]).push([[0],{13:function(e,t,a){},16:function(e,t,a){e.exports=a(29)},21:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),i=a(7),s=a.n(i),r=(a(21),a(8)),l=a(2),m=(a(28),a(3)),c=a(4),u=a(6),d=a(5),p=function(e){return{type:"ADD_PHOTO",payload:e}},h=function(e){return{type:"DELETE_PHOTO",payload:e}},b=function(e,t){return{type:"OPEN_MODAL_PHOTO",payload:{objOpenPhoto:e,isOpened:t}}},f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"onOpenModalPhoto",value:function(){this.props.openModalPhoto({id:this.props.id,url:this.props.urlPhoto,comment:this.props.commentPhoto},!0)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"galleryItem"},n.a.createElement("div",{className:"img_wraper"},n.a.createElement("div",{className:"second_wraper"},n.a.createElement("img",{className:"itemPhoto",src:this.props.urlPhoto,onClick:function(){return e.onOpenModalPhoto()}}),n.a.createElement("div",{className:"delete_photo",onClick:function(){window.confirm("Are you sure you want to delete this photo?")&&e.props.deletePhoto(e.props.id)}},"X"))),n.a.createElement("div",{className:"text_comments"},this.props.commentPhoto))}}]),a}(n.a.Component),g={deletePhoto:h,openModalPhoto:b},O=Object(l.b)(null,g)(f),y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"galleryGrid"},this.props.stateArray.map((function(e){return n.a.createElement(O,{urlPhoto:e.url,commentPhoto:e.comment,key:e.id,id:e.id})})))}}]),a}(n.a.Component),w=Object(l.b)((function(e){return{stateArray:e.stateArray}}))(y),j=a(1),v=(a(13),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).state={isOpened:!1,urlStyle:"modal_input",noUrl:""},o.urlNewPhoto=null,o.textNewComment=null,o}return Object(c.a)(a,[{key:"onAddNewPhoto",value:function(){this.props.addNewPhoto({id:Date.now(),url:this.urlNewPhoto.value,comment:this.textNewComment.value})}},{key:"render",value:function(){var e=this,t=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/;return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"addPhoto ".concat(this.props.styleBtn),onClick:function(){return e.setState(Object(j.a)(Object(j.a)({},e.state),{},{isOpened:!0}))}},this.props.namebtn),this.state.isOpened&&n.a.createElement("div",{className:"modal",onClick:function(t){t.target.closest(".modal_body")||e.setState(Object(j.a)(Object(j.a)({},e.state),{},{isOpened:!1}))}},n.a.createElement("div",{className:"modal_body "},n.a.createElement("h1",null,"Add to photos"),n.a.createElement("div",{className:"wrapper_input"},"url photo",n.a.createElement("input",{id:"url_photo",className:this.state.urlStyle,ref:function(t){return e.urlNewPhoto=t}})),this.state.noUrl,n.a.createElement("div",{className:"wrapper_input"},"comments to photo",n.a.createElement("input",{id:"text_comment",className:"modal_input",ref:function(t){return e.textNewComment=t}})),n.a.createElement("button",{className:"btn_modal",onClick:function(){t.test(e.urlNewPhoto.value)?(e.onAddNewPhoto(),e.setState({isOpened:!1,urlStyle:"modal_input",noUrl:""})):e.setState(Object(j.a)(Object(j.a)({},e.state),{},{urlStyle:"no_url",noUrl:n.a.createElement("div",{className:"eror_url"},"Please enter a valid url the photo")}))}},"Add photo"))))}}]),a}(n.a.Component)),E={addNewPhoto:p},N=Object(l.b)(null,E)(v),P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).state={visibleEditPhoto:"invisible"},o.textComment=null,o}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,this.props.modalPhoto.isOpened&&n.a.createElement("div",{className:"modal",onClick:function(t){t.target.closest(".modal_view_body")||e.props.openModalPhoto(null,!1)}},n.a.createElement("div",{className:"modal_view_body "},n.a.createElement("div",{className:"image_wraper"},n.a.createElement("img",{className:"img_photo",src:this.props.modalPhoto.objOpenPhoto.url})),n.a.createElement("div",{className:"photo_panel"},n.a.createElement("div",{className:"add_new_photo"},n.a.createElement(N,{namebtn:"ADD NEW PHOTO"})),n.a.createElement("div",{className:"delete_this_photo",onClick:function(){window.confirm("Are you sure you want to delete this photo?")&&(e.props.deletePhoto(e.props.modalPhoto.objOpenPhoto.id),e.props.openModalPhoto(null,!1))}},"DELETE THIS PHOTO"),n.a.createElement("div",{className:"comment",contentEditable:"true",ref:function(t){return e.textComment=t},suppressContentEditableWarning:!0,onInput:function(){e.setState({visibleEditPhoto:""})}},this.props.modalPhoto.objOpenPhoto.comment),n.a.createElement("div",{className:"edit_comment ".concat(this.state.visibleEditPhoto),onClick:function(){e.props.changeComment(e.props.modalPhoto.objOpenPhoto.id,e.textComment.innerText),e.setState({visibleEditPhoto:"invisible"})}},"CHANGE COMMENT")))))}}]),a}(n.a.Component),_={openModalPhoto:b,addNewPhoto:p,deletePhoto:h,changeComment:function(e,t){return{type:"CHANGE_COMMENT",payload:{idPhoto:e,commentText:t}}}},C=Object(l.b)((function(e){return{modalPhoto:e.modalPhoto,stateArray:e.stateArray}}),_)(P),x=a(15),A={stateArray:[{id:1,url:"https://pbs.twimg.com/media/DwxetGfWsAASxjH.jpg",comment:"Comment 1 :  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum maximus mauris eros, ut molestie quam tincidunt a. Nullam iaculis sapien ipsum, eu sagittis velit"},{id:2,url:"https://www.esg89group.it/wp-content/uploads/2018/08/mountains-962793_1280.jpg",comment:"Comment 2 :  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum maximus mauris eros, ut molestie quam tincidunt a. Nullam iaculis sapien ipsum, eu sagittis velit accumsan a. Mauris ultrices sapien in mi blandit faucibus eleifend sed odio. Morbi porta efficitur sollicitudin. Maecenas fringilla nunc ut urna pretium, sit amet euismod lacus ultrices. "},{id:3,url:"https://st-gdefon.gallery.world/wallpapers_original/286150_gallery.world.jpg",comment:"Comment 3:  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum "},{id:4,url:"https://fsb.zobj.net/crop.php?r=KfCMu3i8fzYidtcj_gbEte4gqyY-wbtLJEekbq1ZnYNR8HbQdKeuDN7C3hwxjdp5o7h0FahPSx2ZuiXNKH2DaqpW7TH2zudFqgGwUTlh4-bEVmEnE-4cRS4B14xQRDw2TP6j3Yu9fK_4kU87",comment:"Comment 4 :  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum "},{id:5,url:"https://avatars.mds.yandex.net/get-pdb/2508630/ae4bfa08-ba13-4522-903a-476e4005701b/s1200?webp=false",comment:"Comment 5:  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum maximus mauris eros,"},{id:6,url:"https://404store.com/2017/09/01/1104jpg.jpg",comment:"Comment 6 :  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum"},{id:7,url:"https://avatars.mds.yandex.net/get-pdb/28866/4247d17a-370c-4a02-8f63-c4f10c702784/s1200?webp=false",comment:"Comment 7:  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum maximus mauris eros, ut molestie quam tincidunt a. Nullam iaculis sapien ipsum, eu sagittis velit"},{id:8,url:"https://st-gdefon.gallery.world/wallpapers_original/327385_gallery.world.jpg",comment:"Comment 8 :  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum maximus mauris eros, ut molestie quam tincidunt a. Nullam iaculis sapien ipsum, eu sagittis velit"},{id:9,url:"https://ae01.alicdn.com/kf/HTB1jPUhQVXXXXb3apXXq6xXFXXXW/Mahuaf-i046.jpg",comment:"Comment 9 :  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum maximus mauris eros, ut molestie quam tincidunt a. Nullam iaculis sapien ipsum, eu sagittis velit"},{id:10,url:"https://img3.goodfon.ru/original/1024x768/4/b4/nebo-gory-ozero-derevya-7748.jpg",comment:"Comment 10 :  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum maximus mauris eros, ut molestie quam tincidunt a. Nullam iaculis sapien ipsum, eu sagittis velit"},{id:11,url:"https://avatars.mds.yandex.net/get-pdb/2333074/6185ce5b-bcd2-49f9-a35c-1d2f9fa67a9a/s1200?webp=false",comment:"Comment 11"},{id:12,url:"https://wallbox.ru/resize/1280x1024/wallpapers/main2/201730/1501358657597cea413b69d0.05241559.jpg",comment:"Comment 12"},{id:13,url:"https://www.tomswallpapers.com/pic/201503/1280x1024/tomswallpapers.com-10783.jpg",comment:"Comment 13"},{id:14,url:"https://wallbox.ru/resize/1280x960/wallpapers/main/201140/gonkong-noch-reka-68ccb57.jpg",comment:"Comment 14"},{id:15,url:"https://www.helahel.com/media/190767/img_190767.jpg",comment:"Comment 15"},{id:16,url:"https://wallbox.ru/resize/1600x1200/wallpapers/main/201328/c41046ffd489724.jpg",comment:"Comment 16"},{id:17,url:"https://img3.goodfon.ru/original/1280x960/1/8b/more-gory-sneg-oblaka.jpg",comment:"Comment 17"},{id:18,url:"https://avatars.mds.yandex.net/get-pdb/2177155/e47f4d57-82d2-4fe7-90fb-7de0a6fe5acb/s1200?webp=false",comment:"Comment 18"},{id:19,url:"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/94d48fcc-c3d4-46b8-a46a-a9808b025450/d76a2rb-a1dfd662-d585-4b37-8063-77612908ebf6.jpg/v1/fill/w_1024,h_640,q_75,strp/sfondi_natura_pc_hd_004_by_undeadofficial_d76a2rb-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOiIsImlzcyI6InVybjphcHA6Iiwib2JqIjpbW3siaGVpZ2h0IjoiPD02NDAiLCJwYXRoIjoiXC9mXC85NGQ0OGZjYy1jM2Q0LTQ2YjgtYTQ2YS1hOTgwOGIwMjU0NTBcL2Q3NmEycmItYTFkZmQ2NjItZDU4NS00YjM3LTgwNjMtNzc2MTI5MDhlYmY2LmpwZyIsIndpZHRoIjoiPD0xMDI0In1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmltYWdlLm9wZXJhdGlvbnMiXX0.9eMZe9RRcBcdlCG5DFrMOHRyRN0KcT1_DQ2eM7X6wVQ",comment:"Comment 19"},{id:20,url:"https://i.artfile.me/wallpaper/19-03-2018/1280x960/goroda-zamok-shverin--germaniya-castle-s-1318074.jpg",comment:"Comment 20"}],modalPhoto:{objOpenPhoto:null,isOpened:!1}},T=Object(r.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PHOTO":return Object(j.a)(Object(j.a)({},e),{},{stateArray:[t.payload].concat(Object(x.a)(e.stateArray))});case"DELETE_PHOTO":var a=e.stateArray.filter((function(e){return e.id!==t.payload}));return Object(j.a)(Object(j.a)({},e),{},{stateArray:a});case"CHANGE_COMMENT":var o=e.stateArray.map((function(e){return e.id===t.payload.idPhoto?(e.comment=t.payload.commentText,e):e}));return console.log(Object(j.a)(Object(j.a)({},e),{},{stateArray:o})),Object(j.a)(Object(j.a)({},e),{},{stateArray:o});case"CHANGE_POSITION_PHOTO":var n=e.stateArray.find((function(e){return e.id===t.payload.idFirst})),i=e.stateArray.find((function(e){return e.id===t.payload.idLast}));return e.stateArray.map((function(e){e.id===t.payload.idFirst?e=i:e.id===t.payload.idLast&&(e=n)}));case"OPEN_MODAL_PHOTO":return Object(j.a)(Object(j.a)({},e),{},{modalPhoto:t.payload})}return e}));var k=function(){return n.a.createElement(l.a,{store:T},n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"mainGrid"},n.a.createElement("header",{className:"header"},n.a.createElement("p",{className:"logo"},"CosySoft"),n.a.createElement("p",{className:"description"},"Test task for the developer's frontend")),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Gallery"),n.a.createElement(N,{namebtn:"+",styleBtn:"addPhotoPlus"}),n.a.createElement(C,null)),n.a.createElement("main",null,n.a.createElement(w,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.0b1b2f43.chunk.js.map